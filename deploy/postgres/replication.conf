# PostgreSQL Replication Configuration for Enterprise HA

# Primary (Master) Configuration
# File: postgresql.conf
wal_level = replica
max_wal_senders = 3
max_replication_slots = 3
hot_standby = on
hot_standby_feedback = on

# Streaming replication
synchronous_commit = on
synchronous_standby_names = 'ANY 1 (standby1, standby2)'

# Replication slots
max_slot_wal_keep_size = 10GB

# Standby (Replica) Configuration
# File: postgresql.conf
hot_standby = on
hot_standby_feedback = on

# Recovery Configuration
# File: recovery.conf (PostgreSQL 12+) or postgresql.conf
primary_conninfo = 'host=postgres-primary port=5432 user=replicator password=replicator_password'
primary_slot_name = 'cmp_replica_slot'
restore_command = 'cp /var/lib/postgresql/wal_archive/%f %p'
